<!doctype html>
<html>

<head>
    
    <!-- Begin Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-144047744-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-144047744-1');
    </script>
    <!-- End Google Analytics -->
    
    <link rel="stylesheet" href="/styles/css.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab&display=swap" rel="stylesheet">
    <title>Peter Wroot</title>
</head>

<body>
    <div id="title">
        <a href="/">peterwroot.co.uk</a>
    </div>

    <h3 class="centered">Homelab</h3>

    <p>I've recently taken steps to reduce the overall footprint of my homelab - both in terms of physical size, and electricity usage - without compromising the overall functionality. I'm also trying to reduce the amount of time and effort I spend working on it, as part of an initiative to improve my work/life balance.</p>

    <p><b>Server:</b></p>

    <p>The main workhorse of my homelab is now a 2012 Mac Mini with an Intel Core i7 and 16GB of RAM, running MacOS Mojave. Whilst this is a far cry from the powerful, rack-mounted servers that homelabbers are used to, it suits my needs perfectly: It's small, quiet, power-efficient, and good looking - whilst still having a decent amount of horsepower.</p>

    <p>The Mac's main responsibility is to run my <a href="https://plex.tv" target="_blank">Plex</a> server for streaming my T.V. and film collection. It also runs the <a target="_blank" href="https://transmissionbt.com/">Transmission</a> bittorrent client, as well as <a href="https://sonarr.tv/" target="_blank">Sonarr</a> and <a href="https://radarr.video/" target="_blank">Radarr</a> for downloading T.V. and films.</p>

    <p>There is also an Apple USB SuperDrive connected to the Mac Mini, and iTunes has been configured to automatically rip any CD's it detects. I have the import preferences configured to rip CD's to AIF files for the highest quality audio.</p>

    <p><b>Storage:</b></p>

    <p>The storage for my homelab is provided by a HP Microserver running FreeNAS. This server has 4x2TB hard drives running in raid Z1. This server stores Time Machine backups of my MacBook Pro and the aforementioned Mac Mini, as well as the movies and T.V. that Plex serves.</p>

    <p><b>Networking:</b></p>

    <p>At the core of my home network lies the UniFi Security Gateway. This handles DHCP and DNS for the network, and also runs a VPN server so I can dial in remotely. Two UniFi Access Points provide Wi-Fi coverage in my apartment, and switching is handled by a 24-port gigabit switch from TP-Link that I dug out of the bin at work. </p>

    <p><b>Looking to the future:</b></p>

    <p>I'd like to replace the HP Microserver with something smaller and more power-efficient. I really like the look of the <a target="_blank" href="https://streacom.com/products/f1c-evo-chassis/">Streacom F1C Evo Chassis</a> as it has a very similar aesthetic to the Mac Mini. I like the idea of putting together a low-power, Mini-ITX system in this case with a pair of 4TB 2.5 inch drives in a mirrored pair, installing FreeNAS and then using this as my Time Machine backup server.</p>

    <p>My Mac Mini can take two 2.5 inch hard drives - it is currently equipped with a 1TB spinning disk, however I am contemplating swapping this out for a 265GB SSD boot volume, paired with a 2 or 3 Terabyte spinning disk so that I can move my Movies and T.V. off of the FreeNAS server and store them locally on the Mac.</p>

    <p>The networking setup can be improved as well - I'd like to replace the switch with one of UniFi's switches as they tie in well with the Security Gateway, Access Points, and UniFi controller software.</p>
    
    <p>I'd like to replace the CD ripping solution with <a href="https://www.dbpoweramp.com/" target="_blank">dBpoweramp</a> - I'd like to achieve a solution where I can insert a CD, it gets ripped automatically and tagged with the correct metadata and album art, and then the CD is ejected. </p>

    <p><b>Conclusion:</b></p>

    <p>The Mac Mini has replaced two full-size tower servers, which were both configured as VMWare ESXi hosts. Whilst I miss having the extra headroom and ability to spin up virtual machines on the fly, the new setup is far easier to maintain - and that's really what I was going for.</p>


    <div id="spacer">

    </div>



    <div id="iframe-container">
        <iframe src="/pages/posts/" onload="resizeIframe(this)"></iframe>
    </div>




    <script src="/scripts/scripts.js"></script>





</body></html>

